<!doctype html>
<html>
  <head>
    <meta charset="utf-8">

    <!-- Always force latest IE rendering engine or request Chrome Frame -->
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">

    <!-- Use title if it's in the page YAML frontmatter -->
    <title>Hulme History</title>

    <link href='https://api.mapbox.com/mapbox.js/v2.2.1/mapbox.css' rel='stylesheet' />
    <link href="stylesheets/all.css" rel="stylesheet" type="text/css" />
    <script src="javascripts/all.js" type="text/javascript"></script>
  </head>

  <body class="index">
    <nav id='menu-ui' class='menu-ui'></nav>

<section id='timeline'>
  <div id='listholder'>
    <ol>
        <li>1993 <a href="/events/1993-yellowbricks/">Work For Change</a></li>
        <li>1911 <a href="/events/1911-zion-centre/">Zion Centre/Chapel rebuild</a></li>
        <li>1884 <a href="/events/1884-rolls-royce/">Rolls Royce factory</a></li>
        <li>1845 <a href="/events/1845-hulme-hall/">Hulme Hall</a></li>
        <li>1980 <a href="/events/1980-madchester/">Madchester</a></li>
        <li>1901 <a href="/events/1901-hulme-hippodrome/">Playhouse Theatre</a></li>
        <li>1920 <a href="/events/1920-poc-immigrant-communities/">PoC immigrant communities</a></li>
        <li>2014 <a href="/events/2014-birley-fields-campus/">Birley Fields Campus</a></li>
        <li>1840 <a href="/events/1840-industrial-city/">Industrial City</a></li>
        <li>1992 <a href="/events/1992-health-and-hulme-report/">Health and Hulme Report</a></li>
        <li>1990 <a href="/events/1990-crescent-culture/">Crescents Culture</a></li>
        <li>1988 <a href="/events/1988-russell-club/">PSV Club/Russell Club</a></li>
        <li>1986 <a href="/events/1986-viraj-mendis/">Viraj Mendis/Church of the ascension</a></li>
        <li>1999 <a href="/events/1999-garden-centre/">Garden Centre</a></li>
        <li>1960 <a href="/events/1960-slum-clearances/">"Slum" clearances</a></li>
        <li>2005 <a href="/events/2005-crucifix-for-a-tree/">Crucifix for a tree</a></li>
        <li>1761 <a href="/events/1761-bridgewater-canal-connected/">Bridgewater Canal reached Castlefield</a></li>
        <li>1961 <a href="/events/1961-the-mancunian-way/">Mancunian way</a></li>
        <li>2000 <a href="/events/2000-red-bricks-cinema/">Red Bricks Cinema</a></li>
        <li>1974 <a href="/events/1974-crescents-built/">Crescents Built</a></li>
        <li>1761 <a href="/events/1761-industrial-revolution/">Industrial Revolution</a></li>
        <li>1994 <a href="/events/1994-new-hulme/">New Hulme?</a></li>
        <li>1826 <a href="/events/1826-church-st-george/">Church of St George</a></li>
        <li>1939 <a href="/events/1939-second-world-war/">World War II</a></li>
        <li>2000 <a href="/events/2000-hulme-park/">Hulme Park</a></li>
        <li>1940 <a href="/events/1940-redbricks-bentley/">Red Bricks/Bentley House</a></li>
        <li>1901 <a href="/events/1905-hulme-hippodrome-2/">Hulme Hippodrome</a></li>
        <li>1914 <a href="/events/1914-first-world-war/">World War I</a></li>
        <li>1992 <a href="/events/1992-hulme-city-challenge/">Hulme City Challenge</a></li>
        <li>1885 <a href="/events/1885-shipping-canal-act-passed/">Shipping Canal Act passed</a></li>
        <li>2002 <a href="/events/2002-commonwealth-games/">Commonwealth Games</a></li>
    </ol>
  </div>
</section>

<section id='map'></section>

<script>
L.mapbox.accessToken = 'pk.eyJ1Ijoia2ltYWRhY3R5bCIsImEiOiJCYzdNTTR3In0.hkjyGpEFYdSPrVp3e717eA';
var map = L.mapbox.map('map').setView([53.468,-2.260], 15);
var layers = document.getElementById('menu-ui');

// Colour defs
var buildings = "#7FBB71";
var blocks = "#CDCCCC";

// Base map
addLayer(L.mapbox.tileLayer('mapbox.light'), 'Base Map', 1);

// 1871 map layers
var group1871 = L.layerGroup();
addLayer(group1871, '1871', 2);
// Async load so that the styles work properly for now.
// Later we can edit the style info in the geojson directly.
$.getJSON('./gis/1871_figure_ground.geojson', function(data) {
  l = L.mapbox.featureLayer(data);
  l.addTo(group1871);
  l.setStyle({fillColor: buildings});
});

$.getJSON('./gis/1871_blocks.geojson', function(data) {
  l = L.mapbox.featureLayer(data);
  l.addTo(group1871);
  l.setStyle({fillColor: blocks});
});


// 1990 map layers
var group1990 = L.layerGroup();
addLayer(group1990, '1990', 3);

$.getJSON('./gis/1990_figure_ground.geojson', function(data) {
  l = L.mapbox.featureLayer(data);
  l.addTo(group1990);
  l.setStyle({fillColor: buildings});
});

$.getJSON('./gis/1990_blocks.geojson', function(data) {
  l = L.mapbox.featureLayer(data);
  l.addTo(group1990);
  l.setStyle({fillColor: blocks});
});

function addLayer(layer, name, zIndex) {
  layer
  .setZIndex(zIndex)
  .addTo(map);

  // Create a simple layer switcher that
  // toggles layers on and off.
  var link = document.createElement('a');
  link.href = '#';
  link.className = 'active';
  link.innerHTML = name;

  link.onclick = function(e) {
    e.preventDefault();
    e.stopPropagation();

    if (map.hasLayer(layer)) {
      map.removeLayer(layer);
      this.className = '';
    } else {
      map.addLayer(layer);
      this.className = 'active';
    }
  };

  layers.appendChild(link);
}
</script>

  </body>
</html>
